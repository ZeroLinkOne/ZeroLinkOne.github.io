---
layout: post
comments: true
categories: 学习笔记
---

# Arduino入门

##  Arduino下载与安装

Arduino IDE [下载地址](https://support.arduino.cc/hc/en-us)

Arduino IDE 修改默认库位置,修改C:\Users\85083.arduinoIDE\arduino-cli.yaml

Arduino IDE 设置中文界面`File->Preferences->Language->中文(简体)`

Arduino IDE 代码格式化快捷键 `CTRL+T`

##  Arduino UNO介绍

Arduino Uno是一款基于ATmega328P微控制器的开发板

1. 数字引脚：共14个(其中6个可提供PWM输出)，用于连接数字设备，如LED灯、按钮、传感器等，并可输出高电平(5V)或低电平(0V)，实现对数字设备的控制或读取数字信号。例如，连接一个按钮到数字引脚，通过读取引脚的电平状态判断按钮是否被按下。

2. 模拟引脚：有6个，可读取模拟电压值，适用于连接模拟传感器，如温度传感器、光线传感器等，能将模拟信号转换为数字值供程序处理。比如，连接一个温度传感器到模拟引脚，可获取当前环境温度的模拟量并进行相应处理。

3. 电源供电: 可直接通过USB线连接到电脑等设备获取5V电源

4. 内部存储: 拥有32KB的Flash闪存用于存储程序代码，2KB的SRAM作为数据存储器，1KB的EEPROM可用于存储一些需要掉电保存的数据

5. Arduino UNO和NANO控制芯片同样用的ATmega328p，不同的是芯片封装不同，UNO是DIP28封装NANO是TQFP32封装(NANO比UNO多了4个引脚出来)多出来的4个引脚分别是VCC，GND，ADC6，ADC7，在UNO上模拟输入引脚只到ADC4、ADC5，而NANO多引出了ADC6，ADC7

##  Arduino第三方支持

添加第三方支持:`文件->首选项->其他开发板管理器地址`,添加第三方网址,多个网络用;分隔

1. Arduino支持[Air001]:地址https://arduino.luatos.com/package_air_cn_index.json。

2. Arduino支持[STM32]:地址https://raw.githubusercontent.com/stm32duino/BoardManagerFiles/main/package_stmicroelectronics_index.json

3. Arduino支持[ESP8266]:地址http://arduino.esp8266.com/stable/package_esp8266com_index.json

4. Arduino支持[STC89系列]:地址http://bacciel.com/tools/package_ardui89_index.json

5. Arduino支持[其他AVR]:地址https://mcudude.github.io/MegaCore/package_MCUdude_MegaCore_index.json

## 提升编译效率

Arduino 项目编译速度极慢，大概率是与 MSPCManager 冲突导致。可打开任务管理器，右键结束 MSPCManager 进程即可解决。

## 调试RC522时报错

在 ARM（如 STM32）/ESP32 等硬件平台上，使用 Arduino 库对 RC522 进行编程时，有时会遇到如下编译错误：

    error: ordered comparison of pointer with integer zero ('byte*' {aka 'unsigned char*'} and 'int')。

从错误提示可知，问题出现在 MFRC522Extended.cpp 文件的第 824 行（34 字符处）和第 847 行（42 字符处），具体表现为指针与整数 0 进行了比较。

要解决此错误，只需按提示路径（如e:\WorkDir\Arduino\libraries\MFRC522\src\MFRC522Extended.cpp）找到并打开该文件；
定位到编译错误的位置，将backLen > 0修改为backLen > (byte*)0。

完成修改后重新编译，即可解决该错误。